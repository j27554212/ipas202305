```
相關標題
約翰·尼爾 (2020)
CompTIA Security+ 實踐測試 SY0-501
邁克·查普爾 (2019)
Security+® 實踐測試
馬克·伯奇 (2022)
CompTIA CASP+ CAS-004 認證指南
前言
1
CompTIA Security+ 601 考試的目標
2
第 1 節：安全目的和目標
3
第 1 章：了解安全基礎知識
4
第 2 章：實施公鑰基礎設施
5
第 3 章：調查身份和訪問管理
6
第 4 章：探索虛擬化和雲概念
7
第 2 部分：監控安全基礎設施
8
第 5 章：監控、掃描和滲透測試
9
第 6 章：了解安全和不安全協議
10
第 7 章：深入研究網絡和安全概念
11
第 8 章：保護無線和移動解決方案
12
第三節：保護安全環境
13
第 9 章：識別威脅、攻擊和漏洞
14
第 10 章：治理、風險和合規性
15
第 11 章：管理應用程序安全
16
第 12 章：處理事件響應程序
第 12 章：處理事件響應程序
事件響應程序
利用數據源支持調查
知道如何應用緩解技術或控制來保護環境
實施網絡安全彈性
檢視問題
17
第 4 部分：模擬測試
18
第13章：模擬考試1
19
模擬考試 1 解決方案
20
第14章：模擬考試2
21
模擬考試 2 解決方案
22
章節複習解決方案
23
您可能喜歡的其他書籍
章節12：處理事件響應程序
為了保護企業免受災難，我們必須有可靠的事件響應計劃和程序。公司將面臨許多不同類型的事件。例如，處理洪水與處理服務器硬件故障完全不同。他們將製定許多計劃，針對每個事件製定一個計劃，員工了解他們在計劃中的作用對於計劃的有效性至關重要。該計劃必須至少每年執行一次才能有效。讓我們依次看看其中的每一個，從事件響應程序開始。

本章將討論事件響應，並將分為以下幾個部分：

事件響應程序
攻擊框架
利用數據源支持調查
知道如何應用緩解技術或控制來保護環境
實施網絡安全彈性
事件響應程序
在我們開始製定事件響應計劃之前，我們需要有一個流程，我們要使用的流程如圖12.1所示：

圖 12.1 – 事件響應流程
圖 12.1 – 事件響應流程

事件響應流程必須按順序進行，從第 1 階段開始，即準備階段。讓我們按順序看一下這些階段：

準備：準備階段是不同事件響應計劃的階段被寫入並保持最新。還記錄了系統配置。
識別：一旦事件發生，調用適當的事件響應計劃並通知利益相關者和該特定事件的事件響應團隊是很重要的。
遏制：在這個階段，我們將隔離或隔離計算機，以防止攻擊進一步傳播並收集不穩定的證據。我們將禁用攻擊者使用的任何帳戶。
根除：在根除階段，我們要摧毀事件的根源。例如，如果它是病毒，我們希望將其刪除。我們將清除病毒或刪除受感染的文件，為系統打補丁，並關閉我們不需要的任何服務，以便對其進行加固。
恢復：在恢復階段，我們正在讓公司恢復運營狀態，希望在恢復點目標範圍內（恢復採購組織）。例如，對機器進行成像、恢復數據，或者在清理後將域控制器或受感染的機器重新聯機。
經驗教訓：經驗教訓是一個偵探階段，我們匯集所有事實併計劃防止將來再次發生。未能執行此操作將導致再次發生。
示例：域控制器感染了病毒。第一階段是遏制，我們將其從網絡中移除。下一階段是根除，即我們刪除病毒並對服務器打補丁。最後一個階段是恢復，將乾淨的服務器重新聯機。在事件得到處理並且我們恢復正常運行後，我們會吸取教訓，首先查看域控制器是如何感染病毒的，並防止它再次發生。

響應和恢復控制
在發生災難之前，應通過執行不同的災難恢復演習或利用團隊演習來測試災難計劃。對不同災難的響應及時且適合特定事件至關重要。隨著技術的發展，更新計劃和演習至關重要。本書前面已經介紹了團隊練習，現在讓我們看看不同的災難恢復練習。

災難恢復練習
您可以進行三種類型的演練，以確保您的公司為任何災難做好準備。這些是結構化的演練，桌面練習和模擬. 讓我們看看所有這三個：

桌上練習：桌面練習是一種基於紙質的假設練習，各方圍坐在一張桌子旁討論他們將如何處理災難情景。
結構化演練：結構化演練是指與所有相關方一起實際實施模擬災難。這方面的一個例子是進行消防演習，我們動員消防員或進行許多不同場景的軍事演習或任務。
模擬：白隊組織並衡量對這一事件的反應。模擬是一項測試，基於災難恢復計劃的一部分中的給定場景。紅隊和藍隊被簡要介紹了場景和他們的角色，紅隊進攻，藍隊防守。這比結構化演練更小、更快。
攻擊框架
已經開發了不同的攻擊框架來幫助網絡安全團隊更好地為網絡攻擊做好準備。我們將研究三種不同的模型，所以讓我們從 MITRE ATT&CK F 開始框架。

MITRE ATT&CK 框架
MITRE 是一家美國政府贊助的公司，其目的是幫助防止網絡攻擊。他們開發了一個可供普通大眾使用的在線框架，並且他們有很多矩陣。它們提供有關對手及其攻擊方法的信息。他們使用首字母縮略詞 ATT&CK 來幫助您更好地理解攻擊者使用的攻擊向量。如果您繼續訪問 MITRE 網站 ( https://attack.mitre.org )，您會發現一個巨大的電子表格，您可以使用它來查找有關對手、他們的攻擊方法以及如何減輕這些攻擊的信息。這對從網絡安全團隊到威脅獵手的每個人都有幫助，所以讓我們依次看看這些。讓我們看一下首字母縮寫詞的細分：

對抗性：這著眼於被分入不同群體的潛在攻擊者的行為。一個例子是APT28，這是一個俄羅斯組織，據稱在 2016 年干擾了美國大選，並在 2014 年針對德國議會開展了為期 6 個月的運動。
戰術：這是進行攻擊的媒介。我們可以看看網絡釣魚我們可以從中深入分析，它會解釋網絡釣魚攻擊是如何發起的。
技術：這些是對如何發起攻擊的過程的細分。一個例子是偷渡式妥協，其中該技術針對用戶的 Web 瀏覽器。請閱讀可在以下鏈接中找到的文章：https ://attack.mitre.org/techniques/T1189/ 。
Common Knowledge：這是與攻擊者的策略和技術相關的文檔，已在線提供給公眾。
網絡殺傷鏈
Lockheed Martin最初開發了殺傷鏈，這是一種軍事模型，用於識別敵人攻擊你的步驟。然後它被改編成網絡殺傷鏈，這是一個幫助網絡安全團隊提高對潛在網絡攻擊意識的框架。它可以幫助他們追踪攻擊的每個步驟，並隨著每個階段的完成為他們提供更清晰的畫面。( https://www.lockheedmartin.com/en-us/capabilities/cyber/cyber-kill-chain.html )。參考圖 12.2：

圖 12.2 – 網絡殺傷鏈
圖 12.2 – 網絡殺傷鏈

其背後的想法是讓網絡安全團隊意識到這一點，以便他們能夠在早期階段識別和預防攻擊。例如，我們可以創建安全意識計劃，警告員工防範網絡釣魚，並報告來自外部機構的異常電話。然後攻擊者可能會在偵察時被阻止恩斯階段。

入侵分析的鑽石模型
該模型是收集網絡入侵攻擊情報的框架。這包括四個關鍵要素：對手、能力、基礎設施和受害者，這些要素相互關聯：

圖 12.3 – 入侵分析的鑽石模型
圖 12.3 – 入侵分析的鑽石模型

該模型在 2013 年被解密之前一直被情報界使用。更多信息可以在https://apps.dtic.mil/sti/pdfs/ADA586960.pdf找到。前面模型的細分如下：

Adversary：這是威脅行為者組，我們可以使用 MITRE ATT&CK 模型來識別他們是誰以及他們使用什麼攻擊。
能力：這是對手開發他們用來執行攻擊的漏洞的地方。這些也在 MITRE ATT&CK 模型中進行了佈局。
基礎設施：這是攻擊者可以到達受害者的方式。這可以通過 USB、電子郵件、IP 地址或遠程訪問進行。
受害者：這是對手的目標。
示例：如果我們查看Stuxnet病毒，我們知道其功能是四個零日針對西門子工業控制系統( ICS ) 的病毒。其次，我們知道所使用的基礎設施是 U 盤，受害者是伊朗核濃縮設施。所有這些信息都是一次一個地被發現的，然後當我們有了這些信息時，我們現在就會搜索一個對手。攻擊非常複雜。因此，我們可以將對手的搜索範圍縮小到資金充足且有能力進行這種複雜攻擊的人。在這個例子中，對手被縮小到西門子、中國、印度、美國和以色列。鑽石最難的部分是找到對手，在這個例子中，得出的結論是，責任方是美國和以色列。

我們可以為殺傷鏈的每一步結合鑽石模型來檢測對手。我們還可以使用 MITRE ATT&CK 模型來查找 Diamond 模型中的其他信息。

讓我們看看對於成功的事件響應很重要的其他方面。

利益相關者管理
當我們發生事故時，我們需要通知和管理五組利益相關者。這些是債權人、董事、僱員、政府機構和作為企業所有者的股東。我們通知利益相關者，並提醒他們，他們的責任是確保媒體不了解該事件，因為這可能會嚴重影響貴公司的聲譽。對事件的了解可能是常識，可能是在事件得到處理一個月後。

溝通計劃
這是通知所有利益相關者我們將使用 PGP 或 S/MIME 等加密的事件的媒介以確保事件不會成為公眾所知。應保留一份聯繫人列表，其中包括政府、警察、客戶、供應商和內部員工。

災難恢復計劃
災難範圍從颶風和洪水等自然災害到硬件故障、惡意內部攻擊和數據意外刪除。災難恢復計劃的主要目的是讓公司恢復正常運行，從而產生收入。我們需要確定最關鍵的資產，並確保它們首先啟動並運行。我們將定期進行災難恢復演練，以獲取執行該計劃的經驗。由於技術經常變化，我們需要更新災難恢復計劃以適應變化。

業務連續性計劃 (BCP)
這就像它在罐頭上所說的那樣。無論即將發生什麼災難，都要保持業務正常運行。我們需要完成業務影響分析以確定單點故障這樣我們就可以建立一些冗餘. 我們應該將供應商多樣性內置到我們的 BCP 中。我們需要關注恢復點目標( RPO )，這樣我們就可以確定在沒有數據的情況下我們可以運行多長時間，以及我們必須在多長時間內完成災難恢復並返回到運行狀態。讓我們看看BCP計劃的四個階段：

初步反應：這決定了公司在災難的早期階段應該如何行事。我們將通過致電 IRP 團隊成員來啟動該計劃。
搬遷：在這個階段，我們應該搬遷到備份熱點或在家工作，以便企業可以運營。
恢復：在這個階段，一旦我們搬遷，我們將評估損失以及我們需要採取什麼行動；例如，數據的恢復、桌面的重新映像以及關鍵服務器的恢復。
站點彈性：恢復站點主要分為三種類型：熱站點、冷站點和暖站點秒。由於數據主權，恢復站點不能跨越國際邊界. 讓我們看看它們中的每一個：
A。熱站點：該站點已啟動並正在運行，工作人員在復制數據時立即將數據加載到系統中。這使得它的維護成本最高，但恢復速度最快。我們也可能使用雲提供商來託管我們的熱門網站，因為它可以讓我們立即恢復運行，而無需前往熱點地區。

b. 溫暖的網站：一個溫暖的網站類似於一個熱點站點但是數據是通過快遞發送的，那裡可能比熱點站點晚 3-4 小時。

C。冷站點：冷站點維護成本最低，因為它有電有水，但沒有人員或設備，這使它成為啟動和運行最慢的站點。它沒有數據。

恢復：將原始站點恢復到昔日的輝煌或找到一個替代的永久營業場所。
運營計劃的連續性 (COOP)
COOP 由美國聯邦政府開發。這是他們的業務連續性計劃( BCP )版本。它著眼於每種類型的災難，並為政府制定流程，以便他們可以利用有限的資源提供關鍵服務，直到事件得到緩解。

事件響應小組
當事件發生時，重要的是召集事件響應團隊來處理事件，該團隊由以下角色的成員組成：

事件響應經理：負責的頂級經理。
安全分析師：對事件的技術支持。
IT 審計員：檢查公司是否合規。
風險分析師：評估風險的各個方面。
人力資源部：有時員工會捲入事件中。
法律：就法律問題提供建議並做出決定。
公共關係：與媒體打交道以減少影響。
網絡事件響應團隊：網絡事件響應團隊必須快速行動，並針對他們可能遇到的各種事件進行最新培訓。他們可能不得不在網絡犯罪的某些方面使用第三方專家。
角色和職責
事件響應團隊的每個成員都需要了解他們在團隊中的角色和職責，以使團隊有效。

保留政策
我們需要首先對災難後可能需要的數據進行分類。我們需要為所有 PII 創建數據保留策略和敏感信息以及非機密數據。出於法律和合規原因，您可能需要將某些數據保留不同的時間段；例如，一些財務數據需要保留 6 年，而醫療數據可能需要保留 20-30 年，具體取決於類型。數據保留政策確保解決法律和合規問題。

在下一節中，我們將學習如何利用數據源來支持調查。

利用數據源支持調查
網絡安全團隊可以利用許多不同類型的數據源來獲取更多知識，並清楚地了解已經造成的損害程度和事件的嚴重程度。讓我們看看我們可以搜索以支持調查的不同類型的數據源，從漏洞掃描輸出開始.

漏洞掃描輸出
漏洞掃描器可以識別各種漏洞，如軟件缺陷、缺失補丁、開放端口、不應運行的服務、弱密碼等。這將幫助您避免 SQL 注入等攻擊, 緩衝區溢出s、拒絕服務和其他類型的惡意攻擊。憑據漏洞掃描是最有效的，因為它提供的信息比任何其他漏洞掃描都多。

SIEM 儀表板
安全信息事件管理( SIEM )儀表闆對安全運營中心非常有用，因為它們可以實時提供信息。讓我們看看可以在 SIEM 儀表板上找到的數據類型，從傳感器開始:

傳感器: 傳感器在您的網絡中部署，以監視和收集網絡模式的變化，或在事件發生時監視日誌文件條目的變化。
靈敏度：SIEM系統可以監控PII和敏感信息，以確保我們合規。一個例子是確保遵守所有健康保險流通與責任法案( HIPAA ) 法規，以便組織合規。SIEM 系統能夠維護個人數據洩露登記冊，以確保我們擁有，例如，GDPR遵守。
趨勢：SIEM 系統可以識別硬件故障和性能問題的趨勢，以便它們預測我們將來何時可能需要進行維護，從而防止故障。我們將有單獨的事件類別，例如應用程序、系統和安全事件。
警報：日誌文件提供有關主機和網絡設備上的事件的信息，但不是自動的。SIEM 系統可以設置警報，以便當某些信息出現在日誌文件中時，安全團隊會立即收到通知。另一種方法是在設備上安裝代理，以便在觸發事件時，SIEM 系統關聯事件並實時通知安全團隊。
相關性：SIEM 關聯並聚合來自多個來源的日誌文件，並從中生成提供事件圖片的單一報告。建議您在網絡上安裝網絡時間協議 (NTP) 服務器，以便在所有主機上同步時間並生成準確的報告。
日誌文件
日誌文件在為調查提供證據方面發揮著重要作用。有許多不同類型的日誌文件。讓我們依次查看其中的每一個，並從每個日誌文件中識別信息的類型。我們將從網絡日誌文件開始：

網絡：這個日誌文件可以識別IP地址和MAC連接到網絡的設備的地址。來自 NIDS 的日誌文件和 NIPS可能非常重要，我們可以使用來自代理服務器的日誌文件來跟踪用戶. 我們可以識別 DDoS由於重複條目而到達的流量，並能夠阻止它。
系統：系統日誌文件包含有關硬件更改、設備更新和時間同步的信息，它們記錄組策略事件以及它們是否成功。
應用程序：應用程序日誌文件包含有關軟件應用程序的信息、啟動時間、是否成功，或者是否包含有關潛在問題或錯誤的警告。
安全：安全日誌文件包含有關成功登錄或未經授權嘗試訪問系統的信息。這可以識別試圖登錄您的計算機系統的攻擊者。安全日誌捕獲有關文件訪問的信息，並可以確定誰下載了某些數據。
Web：Web 服務器記錄有關 Web 請求的多種類型的信息，對於識別事件非常有用。讓我們看看收集的有關每個 Web 會話的信息類型：IP 地址請求、日期和時間、HTTP 方法（例如 GET/POST）、使用的瀏覽器和 HTTP 狀態代碼。這些可以分為以下幾類：
A。100 系列，收到請求；一個例子是 102 處理請求。

b. 200 系列，登錄嘗試成功。

C。300 系列，需要更多操作才能完成請求。

d. 400系列，客戶端錯誤；例如 403，您被禁止訪問，或 404 找不到文件。

e. 500系列，服務器端錯誤，未能執行請求；例如 500 內部服務器錯誤，502 錯誤網關，其中上游代理返回無效響應，或 503 服務不可用。

域名系統: 該日誌包含所有 DNS 信息，例如區域傳輸、名稱解析查詢、DNS 服務器錯誤、DNS 緩存和 DNSSEC. 如果您搜索用戶計算機上的日誌文件，您可以確定他們訪問過哪些網站和服務器。
身份驗證：此日誌提供有關登錄事件的信息，以及它們是否成功。在域環境中驗證日誌文件的最佳資源之一是 RADIUS服務器，維護人們登錄和註銷的日誌。因此，它不僅可以對用戶進行身份驗證，還可以跟踪他們。身份驗證日誌文件也保存在域控制器或通過 VPN 服務器進入的遠程用戶上。
Dump Files：Dump files是當電腦死機（俗稱藍屏死機）時，內存中的所有內容都保存在一個dump file（.dmp）中。可以使用諸如藍屏審查之類的工具來分析這些轉儲文件。
網絡電話和呼叫管理器：這些系統提供有關正在撥打的電話及其發起設備的信息。他們還通過記錄平均光學分數( MOS )、抖動和信號丟失來衡量通話質量。每個呼叫都會被記錄下來，您可以在其中看到呼入和呼出的呼叫、撥打電話的人和接聽電話的人。
會話發起協議 (SIP) 流量：SIP 用於基於 Internet 的呼叫，日誌文件顯示事件100，稱為INVITE，模擬連接，與振鈴有關，然後200 OK是確認。如果用戶無法連接到他們的 SIP 呼叫，此日誌文件可用於對他們進行故障排除。
日誌管理器
以下日誌管理器執行相同的基本功能。讓我們依次看看它們中的每一個：

Syslog：系統日誌記錄協議（syslog) 被稱為日誌收集器，因為它從各種設備收集事件日誌，然後將它們發送到中央系統日誌服務器。如果有人錯誤地刪除了日誌文件，他們可以從系統日誌服務器獲取一份副本。在 Linux 版本中，這些日誌被稱為 syslogd 和 syslog daemon，它們將日誌文件存儲在目錄中var/log/syslog。
Rsyslog：這是一個高級系統日誌服務器。它被稱為 rocket-fast 因為它具有高性能。它獲取數據，然後對其進行轉換以將輸出發送到目的地，例如 SIEM 服務器。
Syslog-ng：這是由Balabit IT Security Ltd開發的，作為 Unix 和 Linux 系統的免費開源協議。
journalctl
journald以二進制格式收集和存儲日誌數據，而journalctl能夠以可讀的格式查詢和顯示這些日誌。它用於 Linux 環境。

NX日誌
這是一個開源日誌管理工具，可幫助識別 Linux/Unix 環境中的安全風險。

帶寬監視器
這些可用於了解您的網絡流量。他們可以監控流量模式的變化，識別網絡上造成瓶頸的設備，還可以檢測廣播風暴和潛在的拒絕服務攻擊。

元數據
這是提供有關其他數據的信息的數據。讓我們看看不同類型的元數據，從電子郵件開始：

電子郵件：電子郵件標頭包含有關電子郵件的詳細信息。它顯示來源、目的地和路線通過電子郵件提供商發送給收件人。這可以在網絡釣魚時使用收到電子郵件，以便您可以識別肇事者。
移動：電信提供商保留有關電話呼叫的信息，包括撥打的電話、接聽的電話、短信、互聯網使用情況和位置信息。這些可以在調查期間使用，以提供可能導致定罪的證據。
示例：一位德國政客對T-Mobile提起訴訟，要求發布他們從他的手機中收集的他的手機元數據。他收到了 35,830 條記錄——使用了 6 個月。他將這些數據提供給ZEIT Online，他們能夠識別他的日常活動、電話、短信和互聯網使用情況。他證明了電信提供商可以將其用作跟踪他的行踪的方法。

Web：網站元數據提供有關在網站上創建的每個頁面的信息，包括作者是誰、創建日期、圖像、視頻和電子表格。
文件：進行調查時，文件元數據可用於跟踪信息，例如作者、創建日期、修改日期和文件大小。文件元數據不包括打印或複制數據。
照片：當有人拍照時，元數據可能包含地理標記，讓您知道照片的拍攝地點。
元數據不顯示複製了多少份或打印了多少次，並且您無法從已刪除的文件中獲取元數據。

網絡監控
以下產品可用於網絡監控。讓我們依次看一下，從 NetFlow 開始：

網流：這是監控網絡流量的CISCO產品，因此他們可以識別網絡上的負載。這有助於您有效地利用網絡流量。在調查期間，它可以幫助識別模式在網絡流量中。
Sflow：這是一款多供應商產品，可讓您清楚地了解網絡流量模式。這可以幫助識別惡意流量，以便我們可以確保網絡安全。
IP流信息導出（IPFIX)：該產品可用於從節點本身捕獲流量。然後可以將該數據導出到節點內的收集器。
示例：IPFIX可用於識別通過交換機傳輸的數據，這可用於計費目的。它可以獲取 IP 流信息並格式化數據並將其轉發給收集器。

協議分析器輸出
協議分析器，例如Wireshark 可以捕獲通過網絡傳輸的數據。執法部門已經能夠通過重播發送到他們捕獲的網絡設備的視頻流量來使用 Wireshark 進行取證。輸出可以保存在數據包捕獲文件 (pcap) 中。協議分析器的其他名稱是數據包嗅探器、wireshark 或 tcpdump。

在下一節中，我們將學習應用緩解技術或控制來保護環境。

知道如何應用緩解技術或控制來保護環境
如果我們發現我們有漏洞，我們需要採取措施來降低風險，所以讓我們看看我們可以使用的一些技術或控制。

重新配置端點安全解決方案
當技術發生變化或我們遭受數據洩露時，我們可能不得不重新配置端點安全解決方案。我們將在以下部分中查看這些類型的配置，從應用程序批准列表開始

申請獲批名單
我們可以在列出批准的應用程序的地方使用應用程序白名單。這意味著如果應用程序未列出，則無法啟動。某些設備（例如 pf-sense）具有允許列表。出於 Security+ 考試的目的，如果我們要阻止用戶安裝應用程序或阻止安裝惡意軟件，我們將創建一個白名單。未經授權的應用程序和惡意軟件都不會在白名單中，因此它們將被阻止安裝。

應用程序阻止列表/拒絕列表
我們可以將被視為危險的應用程序列入黑名單，例如 Kali Linux。如果在黑名單上，則完全禁止，不能放入白名單。某些設備（例如 pf-sense 防火牆）具有阻止列表。我們需要應用程序的名稱來將其列入黑名單。

隔離
如果我們發現設備感染了病毒，我們可以通過隔離將其從網絡中移除。我們還可以使用網絡訪問控制( NAC )，以便將未打補丁或易受攻擊的設備放置在隔離網絡中，在隔離網絡中，補救服務器會在系統被允許返回網絡之前對其應用補丁。使用 NAC，用戶通過身份驗證，然後檢查設備以確保它已完全修補。

配置管理
隨著新攻擊的出現和新技術的實施，我們可能不得不進行一些配置更改以保護我們的環境。重要的是，我們在以下方面採用穩健的配置管理方法：

圖表：網絡安全人員、網絡工程師和系統管理員都使用詳細的圖表來顯示所有互連設備的關係。通過這種方式，他們可以確保他們對安全措施的可見性。他們使用熱圖s 顯示無線網絡的連通性。
標準命名約定：網絡上的所有設備都可以被識別為服務器、路由器、防火牆或打印機，這一點很重要。我們可以通過使用標準命名約定來做到這一點。域控制器可以以 DC 前綴開頭，數據庫可以以 SQL 開頭。如果我們查看網絡並看到 DC1 和 DC2，我們可以將它們識別為域控制器，而 SQL 1 和 SQL 2 可以識別為數據庫服務器。
資產管理：如果我們有一個最新的資產登記冊，加上不同資產的標準命名約定，我們就可以跟踪我們所有的資產，並確保它們得到解釋和完全修補。安全管理員可以將資產管理寄存器與可能被識別為網絡上的惡意設備的未知設備進行比較。
基線配置：放置在網絡上的每種類型的設備都有一個安全的基線配置是至關重要的。這可以通過使用不同的圖像來實現，每種圖像對應一個圖像。我們在構建鏡像時使用最少功能的原則，確保只安裝所需的應用程序和服務。
防火牆規則：防火牆可用於阻止流量，我們可以使用 MDM秒解決方案或組策略來更改端點設備上的配置。
移動設備管理 (MDM)：MDM 解決方案可用於將配置更改推送到移動設備。密碼政策可能會改變，或者我們可能會取消使用相機的能力在手機上。MDM 解決方案將推出新的配置更改。
數據丟失防護 (DLP) : 信用卡信息離開公司或具有模式匹配的數據被洩露可能存在安全風險。我們可能會使用正則表達式來確保這些數據不會通過電子郵件離開。DLP 防止離開我們環境的數據的好例子是 PII和敏感信息。
內容過濾器/URL 過濾器：我們可能會更新內容過濾器s 在任一代理服務器上或統一威脅管理( UTM ) 防火牆由於安全事件。內容過濾器阻止目標網站；例如，賭博網站和 URL 過濾器防止端點訪問遭受攻擊的網站。
更新或撤銷證書：如果端點報告主機或信任錯誤，這意味著我們有證書問題。我們可能需要更新證書，因為它已過期或吊銷證書，因為它已被破壞。如果證書未安裝在受信任的根證書頒發機構上，它也會生成主機或信任錯誤。
隔離
我們可能需要氣隙研究和開發端點，將它們與網絡隔離，以保護它們免受基於網絡的攻擊。它們沒有無線、藍牙或以太網連接。從氣隙計算機添加或提取數據的唯一方法是使用可移動設備，例如 USB 驅動器。

遏制
如果安全團隊發現端點已被破壞並且可能被病毒感染，他們將遏制它以阻止惡意軟件蔓延。遏制的示例包括從網絡中刪除受感染的機器或禁用已用於破壞您的網絡的用戶帳戶。

分割
我們可以在 BYOD 環境中使用容器化，我們在其中添加存儲卡以在移動設備上將個人數據和業務數據分開。它還將保護業務數據免遭遠程擦除設備，因為只有移動設備會被重置，而存儲卡不會。這也稱為存儲分段. 我們可能不得不對易受攻擊的設備進行細分，例如沒有更新的未打補丁的打印機。我們可以將這些打印機放在一個 VLAN 中。

安全編排、自動化和響應 (SOAR)
編排是運行多個自動化來執行複雜任務的過程。自動化是編寫單個活動腳本的過程。這些系統用於通過使用劇本來識別來自多個來源的威脅和操作手冊. 讓我們依次看看其中的每一個：

操作手冊：這些文檔包含有關事件的信息以及需要採取的必要行動，以便人類 IT 團隊可以採取行動停止威脅。此信息可用於配置劇本。
劇本：劇本包含一組規則和操作來啟用 SOAR識別事件並採取預防措施。隨著技術的變化，這些可能需要修改以做出更好的決策。
在下一節中，我們將學習如何實施網絡安全彈性。

實施網絡安全彈性
公司有冗餘很重要或內置容錯功能，以保護它們免受網絡攻擊。

冗餘
冗餘是系統的一部分發生故障但我們有能力保持系統運行的過程。它也可以稱為容錯。讓我們首先看看公司可以部署的不同類型的冗餘。我們將從磁盤開始，然後轉向地理分佈。

磁盤
服務器上的磁盤設置需要提供冗餘，有時稱為容錯。簡單來說，這意味著如果一個或多個磁盤發生故障，數據仍然可用。有不同的獨立磁盤冗餘陣列（RAID) 級別，所以讓我們依次查看每個級別，從 RAID 0 開始：

襲擊0 : RAID 0最少使用2個磁盤，最多32個磁盤；見圖12.4：
圖 12.4 – RAID 0
圖 12.4 – RAID0

這稱為條帶集，因為數據以 64 KB 條帶形式寫入磁盤 1-3。如果一個磁盤發生故障，則所有數據都將丟失，因此 RAID 0 不提供容錯或冗餘. RAID 0 的好處是讀取速度更快，因此可用於代理服務器的緩存。

襲擊1 : RAID 1 是兩個磁盤，稱為鏡像集，其中您有一個原始磁盤，第二個磁盤上有一個副本。見圖12.5：
圖 12.5 – RAID 1
圖 12.5 – RAID1個

襲擊1 是容錯的，因此如果Disk 1出現故障，您將破壞鏡像然後激活Disk 2。稍後，我們將添加另一個磁盤，然後重新建立鏡像集。

襲擊5 : RAID 5 至少有三個磁盤，被稱為帶奇偶校驗的條帶集。就像 RAID 0 一樣，它以 64 KB 條帶的形式跨磁盤寫入，但是，當寫入每個條帶時，其中一個磁盤的每一行數據都有一個奇偶校驗塊。奇偶校驗如圖 12.6中的陰影所示：
圖 12.6 – RAID 5 
圖 12.6 – RAID5個

示例：下圖（圖 12.7）表示一個 RAID5 組，我們使用數學方程式來表示磁盤組，以便您可以看到丟失一個磁盤然後丟失兩個磁盤的影響：

圖 12.7 – RAID 5 作為數學方程式
圖 12.7 – RAID5 作為一個數學方程式

每個圓盤都有一個數值。例如，如果磁盤 3發生故障，則等式為 ( 7 + ? = 10 )，答案為3。如果我們丟失了第二個磁盤Disk 1，那麼等式將是 ( ? + ? = 10 ) 而你無法計算出來。如果您丟失了兩個磁盤，也會發生同樣的情況；奇偶校驗無法重新創建丟失的數據。襲擊5 使用奇偶校驗，使您可以快速訪問數據，並且可以丟失一個磁盤。

襲擊6：RAID 6 至少有四個磁盤，配置與 RAID 5 相同，但它有一個額外的磁盤，用於保存另一個奇偶校驗副本：
圖 12.8 – RAID 6
圖 12.8 – RAID6個

一個RAID5 個磁盤組可以承受丟失一個磁盤並且數據仍然可用，因為它具有單一奇偶校驗。RAID 6 組的好處是它可以丟失兩個磁盤並且仍然是冗餘的，因為它具有雙重奇偶校驗。

襲擊10：RAID 10 也稱為RAID 1+0。這是一種結合了鏡像和條帶化以保護數據的 RAID 配置。它有一個鏡像集，然後進行條帶化。只要每個鏡像對中的一個磁盤正常工作，就可以檢索數據：
圖 12.9 – RAID 10
圖 12.9 – RAID10

從此圖中，您可以看到一個RAID1在左邊然後它是條紋的，這意味著你可能會丟失整個數據集。

多路徑：這通常由 SAN 存儲解決方案使用，其中 SAN 存儲和目標服務器之間有多個網絡路徑。這可以防止單點故障並提供冗餘以及負載均衡功能。
地理分佈
企業界多年來一直採用這種做法，但政府機構採用這種做法的速度較慢。我們使用熱和暖的網站s是在不同的地區，也使用不同的電源。同一國家不同區域之間的數據複製，確保即使其中一個區域發生自然災害或停電，它們仍然可以繼續運行。一旦創建記錄，它們就會被複製到另一個熱點站點選擇了。這確保了有一組冗餘數據和抵禦災難的彈性。熱站點通過快遞傳遞數據。冷站s 不能使用，因為它們不包含任何數據。

網絡
需要使我們的網絡更具彈性，並且從前面的磁盤多路徑，您可以看到在使用 SAN 時，我們在主機和 SAN 存儲之間使用了多條路徑。現在讓我們看看其他類型的網絡概念，從網卡組合開始：

網絡接口卡 (NIC) 組合：在服務器環境中，有雙網卡，它們配對在一起以提供最大吞吐量。此外，如果一個適配器出現故障，另一個適配器可用於負載平衡、性能和增加吞吐量。Windows 10 具有組隊功能。
負載均衡器：企業負載均衡器例如Kemp和F5可以平衡多種類型的網絡流量，包括大量的網絡和電子郵件流量。負載均衡器了解每台服務器的狀態，如果某台服務器因維護而停機，它會平衡其他節點之間的流量。它將請求發送到利用率最低的 Web 服務器，從而為用戶提供快速的 Web 訪問。這是一種企業產品，其中 Web 服務器以陣列形式配置。
力量
電源是任何計算機系統最關鍵的資源，它很重要我們有冗餘. 我們看看吧在不同的類型，從不間斷電源開始（不間斷電源）。

不間斷電源供應(UPS)：UPS 基本上是一個電池，它是備用設備，因此當計算機電源出現故障時，它會啟動。它旨在讓系統運行幾分鐘，讓服務器團隊可以關閉服務器優雅地。它還可用於清除來自國家電網的電力，例如尖峰、浪湧和電壓波動。這可以保護服務器免受損壞。
發電機：發電機是由柴油、汽油、丙烷或天然氣提供動力的備用設備。當國家電網停電時，可以​​啟動發電機為公司供電。醫院將配備大量發電機，以在停電時保護重症監護室或手術室的人員。
雙電源：大多數服務器都有雙電源，這樣如果電源單元發生故障，另一個電源可以保持服務器運行。
管理型配電單元 (PDU))：管理型 PDU 允許您遠程連接和監控電源。PDU 將清潔電力分配給多個關鍵網絡資源，例如服務器、路由器、交換機和數據中心。
複製
複製是一種在網絡中立即傳輸數據和虛擬機的方法。讓我們首先看一下存儲區域網絡( SAN )，然後是虛擬機：

存儲區域網絡: SAN 是一種包含大量快速磁盤的硬件設備，例如Solid-State Drives ( SSDs），並且與 LAN 隔離，因為它有自己的網絡：
A。主機總線適配器( HBA )：最便宜的冗餘形式對於 SAN，每個節點都使用兩個 HBA。這將為您提供兩條通往它們的獨立路徑。

b. SAN 結構：SAN 結構是服務器、存儲、交換機和其他設備的集合。我們可以使用兩個 SAN 結構，結構 1和結構 2。這兩種面料是分開的。我們可以讓 SAN 節點將一個 HBA 連接到結構 1，將另一個 HBA 連接到結構 2以提供冗餘.

虛擬機複製：虛擬機複製是將虛擬機的備份副本保存在另一台主機上的地方，這樣如果發生災難，您仍然有冗餘.
本地與雲
在本章中，我們研究了本地冗餘使用 RAID我們還可以考慮在雲中託管我們環境的備份。我們可以在雲中復制數據，這樣如果發生災難，我們可以快速切換到雲中。我們所需要的只是互聯網連接。

備份類型
備份我們的數據一直是數據冗餘的好方法，所以讓我們依次查看其中的每一個，從完整備份開始：

完整備份：完整備份是對所有數據的備份。但是，有些公司可能只能在周末備份所有數據，因此他們會在周中使用增量備份或差異備份。這在考試中可以看作是最快的物理備份，但是佔用的存儲空間最多。
增加的：增量備份備份自上次全量備份或上次增量備份以來的數據。增量備份需要完整備份，從頭開始，然後是所有增量備份。它比完整備份和差異備份使用更少的存儲空間。
微分：差異備份將備份自上次完整備份以來的數據。這樣做的問題是，如果我們在一周開始時進行完整備份，然後每天進行差異備份，那麼它們每天都會逐漸變大。差異備份將始終是兩個磁帶：從頭開始的完整備份和最新的差異。它使用的存儲空間比增量備份多，但比完整備份少。
示例：我們將比較不同類型的備份。我們會每天開始備份，但會丟失數據在星期五，我們將了解恢復數據需要多少磁帶。我們的完整備份將是 50 GB 的數據，每天，我們將產生 5 GB 的數據。您可以從圖 12.10中的表中看出這一點。每種備份類型需要多少磁帶來恢復您的數據？

每日副本：這可能是任何一天的數據副本，但這是計劃的磁帶週期之外的副本。
備份方案：週一我們將從 50GB 大小的完整備份開始，週二至週四每天將添加 5GB 的數據。我們將計算出三種備份類型將存儲多少數據：完整備份、增量備份和差異備份。讓我們先看看邊後衛，然後再看看其他人：
完整：從 50 GB 的數據開始。每天，存儲的數據增加 5GB。因此，在此期間我們需要 230GB 的空間。恢復只需要 65GB 的星期四備份。請參見下面的圖 12.10。
增量：從完整備份開始，但需要所有增量備份（每個都是 5GB）。在此期間，增量將需要 65GB 的空間。恢復需要完整備份和所有 3 個總計 65GB 的增量磁帶
差異：從完整備份開始，但需要最新的差異備份。您可以看到差異每天都在變大。在此期間，Differential 需要 80GB 的存儲空間。恢復需要完整備份和周四的差異，總計 65GB
圖 12.10 – 備份示例
圖 12.10 – 備份示例

網絡位置：可以對網絡中服務器上共享的文件執行備份。服務器會有某種 RAID冗餘或者存儲將是 SAN 的一部分。
備份 – 到磁帶：備份可以備份到磁帶，這將是最慢的恢復形式。此外，備份磁帶的副本可以存儲在異地，以防公司發生火災和燒毀。
磁盤：這可能是對 USB 或可移動硬盤驅動器的完整備份。它也可以是另一台服務器上磁盤的副本。
複製：這也可以使用xcopy工具複製到網絡上的另一台服務器來完成。通過網絡製作副本的更好方法是使用robocopy，因為如果出現網絡故障，robocopy 知道副本何時停止並確保完整的數據傳輸。
網絡附加存儲( NAS )：當您想要存儲超過 5 TB 的數據並且使用通用命名約定( UNC ) 路徑而不是SAN 使用的邏輯單元號( LUN ) 訪問數據時，您將使用 NAS 盒。當您開始用完存儲空間時，這是一個不錯的選擇。
存儲空間：當您擁有大量存儲空間時，SAN 是您的最佳解決方案。它適用於 SQL 或電子郵件等數據庫。您將可以快速連接到它。雲提供商將您的所有云數據存儲在 SAN 上。在 SAN 上，有不同的存儲層：
A。第 0 層：對於數據庫等繁重的工作負載最快。這些是非常昂貴的磁盤和超-快速地。其中最受歡迎的是固態硬盤 (SSD)。

b. 第 1 層：處理高度易變、敏感的數據和任務關鍵型存儲。串行連接 SCSI ( SAS 15k)

C。第 2 層：不經常訪問的公司數據。串行連接 SCSI ( SAS 7.2k)

d. 第 3 層：存檔存儲，長期保留。串行高級技術附件 (SATA)。

雲儲存：使用雲存儲來保存來自 Apple 提供的 iCloud、Google 提供的 Google Drive、Microsoft 提供的 OneDrive 或 Dropbox, Inc. 提供的 Dropbox 的數據是很常見的。雲存儲的消費者版本允許您的存儲空間有限，但願意通過收取每月訂閱費向您出售商業版或額外存儲空間。
圖像：無需從頭開始重建桌面並花費數小時，您可以使用ghost等產品捕獲圖像。這意味著您可以在大約 40 分鐘內重新映像桌面。
在線與離線：當我們查看在線備份與離線備份時，我們需要首先查看需要備份的數據量。當是離線存儲時，我們需要確保所有形式的備份介質都被標記；例如，如果我們使用磁帶，我們需要確保它的保質期沒有過期，否則當我們去獲取備份時，磁帶可能已損壞。在線備份的恢復速度要快得多，並且可以在白天或晚上的任何時間使用。我們只需要一個連接方法來獲得訪問權限。
異地存儲：如果我們要備份媒體，我們應該在異地保留一份副本，以防發生火災或洪水等自然災害。我們需要確保異地存儲距離足夠遠，以免依賴同一電源。
距離注意事項：我們需要考慮數據的類型、數據的重要性以及恢復速度。我們還需要考慮行駛距離，包括交通流量，以確保可以在合理的時間內恢復數據。使用雲提供商可能是一個很好的解決方案，因為它們可以確保數據的可用性。它在異地並且易於連接。
安全數據銷毀
我們以最安全的方式處理數據以確保數據不會被盜是非常重要的。我們將著眼於清理紙質數據，然後是媒體數據。

紙質數據
當我們處理數據時，按順序執行此操作的最佳方法如下：

燒傷：當我們燒紙時，我們可能會在現場使用焚化爐，或者可能會請第三方執行此任務並向我們提供銷毀證明。
打漿：如果無法進行刻錄，將數據製成紙漿的製漿是最佳選擇。
粉碎：這是處理數據的第三種最佳方式；橫切碎紙機是最好的。
媒體數據
處理存儲在硬盤或 DVD/CD ROM 等介質上的數據時，處理數據的最佳方法如下：

粉碎：你可以把金屬硬盤粉碎成粉末，這是最好的方法。
粉碎：這是您用大錘將其粉碎成小塊的地方。
消磁：這是通過磁盤發送電荷的地方。
以上所有情況都會使媒體無法使用。如果要重複使用媒體，則需要選擇擦除或格式化作為清理方法。

第三方解決方案
一些中小型企業 (SME) 可能沒有焚化爐或適當的設施來進行數據銷毀。因此，他們與具有安全數據銷毀設施的第三方簽訂了合同。數據銷毀公司將提供銷毀證明，以便中小企業在被監管機構審核時提供證明。

考試提示

如果您想重複使用硬盤驅動器，則需要通過擦除或格式化來對其進行消毒。

非持久性
非持久性是指當計算機系統損壞時，您可以將其回滾到以前的狀態。讓我們依次看看其中的每一個，從恢復到已知狀態開始：

恢復到已知狀態：在 Windows 環境中，您可以將系統狀態和系統設置保存到可移動媒體。如果計算機損壞，則可以修復計算機，然後插入媒體並恢復為系統狀態數據。
最後一次正確的配置：這是系統在您登錄時記錄配置狀態的地方。這可以在以後恢復。
示例：在 Windows 環境中，當您成功登錄時，計算機的所有設置都保存在一個克隆集中（複製）。如果操作系統沒有啟動，我們在按下 F8 鍵的同時重新啟動計算機並調用最後已知的配置。

實時啟動媒體：操作系統的副本保存到 USB 閃存驅動器或 DVD。然後您將能夠從可移動媒體啟動。
高可用性
高可用性可能涉及在服務器之間使用集群，或者可能有一個備份數據中心，如圖12.11所示：

圖 12.11 – 數據中心高可用性
圖 12.11 – 數據中心高可用性

在圖 12.11中，您可以看到存儲場的備份數據庫。可擴展性是您可以向解決方案添加其他節點的地方。

恢復秩序
一旦發生災難，重要的是我們要查看使公司恢復和運行所需的服務。我們會將它們分為關鍵、必要或非必要，然後我們將努力首先啟動和運行最關鍵的服務。我們將從電源開始，然後是我們的網絡基礎設施和關鍵服務器，然後在重新上線之前恢復數據。

多樣性
公司需要在其組織內使用多樣性，以便為任何災難做好準備。讓我們從技術開始看多樣性。

技術多樣性
這是一家公司可能為其服務器使用多種操作系統的地方。有些可能運行 Windows Server，而另一些可能運行 Linux。這確保了它們在其中一個操作系統容易受到攻擊時仍然可以運行。您可能有一些 Web 服務器在 Windows 環境中使用 Internet 信息服務器 (IIS)，而其他 Web 服務器可能使用在 Linux 操作系統上運行的 Apache。再一次，如果一個網絡服務器被利用，另一個可以保持公司的網絡存在運行。

供應商多樣性
我們需要從不同的供應商處購買相同的技術，以防其中一家企業倒閉或面臨失敗。這方面的一個例子是從兩家不同的公司購買寬帶。這是因為它是企業的關鍵領域，如果一個供應商遭受災難，那麼另一個供應商將提供服務。

加密多樣性
這是公司可以使用不同算法來保護其數據的地方。我們知道 AES 等對稱加密設計用於加密大量數據，因為它使用塊密碼，但我們也知道它很弱，因為密鑰很小。AES 只有 256 位，容易受到攻擊。我們可能會決定通過使用 RSA 來保護密鑰大小較大的數據來實現多樣化。另一個例子是我們可能使用 RSA 4096 位密鑰加密金融交易。作為替代方案，我們可以使用區塊鏈在使用公共分類賬時保護金融交易，使金融欺詐更難進行。

控制分集
這是我們可以使用補償控制的地方，我們有主要控制，如果它失敗，可以用輔助控制替換。這方面的一個例子是現金用完，然後必須使用信用卡進行購買或必須使用用戶名和密碼，直到您可以獲得替換智能卡。

檢視問題
現在是時候檢查你的知識了。回答問題，然後檢查你的答案，這些答案可以在本書末尾的解決方案部分找到：

什麼RAID模型至少有三個磁盤？它可以承受丟失多少磁盤？
什麼RAID型號至少有四個磁盤？它可以承受丟失多少磁盤？
和RAID有什麼區別5 和 RAID 6？
無盤虛擬主機將在哪裡訪問其存儲？
SAN 使用什麼類型的磁盤？
個人用戶可用的雲存儲示例是什麼？
在事件響應程序的哪個階段，您會減少在感染惡意軟件的域控制器上的計算機上運行的服務？
在災難恢復演習期間，IRP 團隊會收到一個要響應的場景。他們可能會進行什麼類型的鍛煉？
為什麼網絡安全團隊會使用 MITRE ATT&CK 框架？
入侵分析框架鑽石模型的四個關鍵要素是什麼？
為什麼 IRP 團隊的角色和職責很重要？
當您的計算機出現藍屏死機時，會創建什麼類型的文件？
SFlow 的目的是什麼？
什麼類型的 HTTP 狀態代碼讓您知道您已成功連接到 Web 服務器？
SOAR 的目的是什麼系統劇本？
網卡組隊有什麼好處？
UPS 的用途是什麼？
可以在 SAN 的節點上安裝什麼以提供冗餘？
為什麼一家公司要為他們的寬帶使用兩個不同的供應商？
事件響應計劃的目的是什麼？
說出三種不同類別的事件。
說出處理事件所需的三種不同角色。
剛剛報告事件時，服務台應該做什麼？
事件響應練習的目的是什麼？
事件響應流程的第一階段是什麼？那裡發生了什麼？
事件響應過程的最後階段是什麼？
如果不執行事件響應過程的最後一個過程，會發生什麼情況？
在災難恢復過程的遏制階段會發生什麼？
在災難恢復過程的根除階段會發生什麼？
在災難恢復過程的恢復階段會發生什麼？
```







